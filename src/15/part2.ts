const map = `#########################################
#       #           #           #       #
# ### # # ### ####### # ####### # ##### #
# #   # #   #   #     #       #   #     #
# # ##### ##### # ########### ##### #####
# #   #   #     #     #     #   #   #   #
# ### # ### ##### ##### ### ### ##### # #
# # #   # #   #   #   # #       #     # #
# # ##### ### # ### # # ######### ##### #
# #         #   # # # #               # #
# # ##### # ##### # # # ############### #
# # #     #       # # #       #         #
# # # ##### ##### # # ##### ### ####### #
# # #   #   #   # # #     # #   #   #   #
# ##### ##### # ### ##### ### ### # # ###
#       #     #     #   #     #   # #   #
####### # ########### ######### # # ### #
#     # # #     #         #   # # #   # #
# ### ### # ##### ##### ### # # # ##### #
#   #   # # #   #   # #     #   #       #
# # ### # # # # ### # ################# #
# #   #   #   #     # #   #   #       # #
# ### ### ##### ##### # # # # # ##### # #
# #   #   #   # #     # #   #   # #   # #
# # ####### # ### ##### ######### # ### #
# # #       #     #         #       # # #
### # ############# ####### # ####### # #
#   # #   #       #       # #   #   #   #
# ### ### # # ### ####### # ### # # # ###
#   #   #   #   #     #   # # # # #     #
# # ### ####### ##### ##### # # #########
# #   #         #     #     # #     #   #
# ### ########### ##### ##### ##### # # #
#   #       #     #     #         #   # #
####### # # # ####### ### # ### ####### #
#     # # # # #       #   # #   #       #
# ### ### # # ### ##### ### ##### #######
# #       # #     #   # # #       #   #O#
# ################# ### # ######### # # #
#                                   #   #
#########################################`
  .split(/\n/)
  .map((row, y) => row.split(''));

const start = {x: 39, y: 37};

let steps = 0;

const fill = (frontiers: {x: number; y: number}[]) => {
  const next: {x: number; y: number}[] = [];

  frontiers.forEach(({x, y}) => {
    if (map[y][x + 1] === ' ') {
      map[y][x + 1] = '.';
      next.push({x: x + 1, y: y});
    }
    if (map[y][x - 1] === ' ') {
      map[y][x - 1] = '.';
      next.push({x: x - 1, y: y});
    }
    if (map[y + 1] && map[y + 1][x] === ' ') {
      map[y + 1][x] = '.';
      next.push({x, y: y + 1});
    }
    if (map[y - 1] && map[y - 1][x] === ' ') {
      map[y - 1][x] = '.';
      next.push({x, y: y - 1});
    }
  });

  if (next.length === 0) {
    return;
  }
  steps++;
  fill(next);
};

// >251

fill([start]);
console.log(map);
console.log(steps);
